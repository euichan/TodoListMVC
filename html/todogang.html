<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>To do List</title>
        <link rel="stylesheet" href="../css/todo.css">
        <script>
            var count = 0;
            //추가 버튼을 눌렀을때 항목 추가 함수들 실행
            window.onload = function()
            {
                document.getElementById('button').addEventListener('click',function()
                    {
                    if(document.getElementById('input_text').value == '')
                    {
                        alert("내용을 입력하세요");
                    }

                    else
                    {
                        Adddiv();
                        Addbox();
                        Addblank();
                    }
                    })

                document.getElementById('remove').addEventListener('click',function()
                {
                    remove();
                })
            }
            //엔터키를 눌렀을때 항목 추가 함수들 실행
            function enter()
            {
                if(event.keyCode == 13)
                {
                    if(document.getElementById('input_text').value == '')
                    {
                        alert("내용을 입력하세요");
                    }

                    else
                    {
                        Adddiv();
                        Addbox();
                        Addblank();
                    }
                }
            }
            //항목 삭제 함수
            function remove()
            {
                for(var i=0;i<count;i++)
                {
                    console.log(document.getElementById('input'+i))
                    console.log(document.getElementById('input'+i).checked)
                    if(document.getElementById('input'+i).checked == true)
                    {
                        alert("삭제되었습니다.");
                    }
                }
            }

            //항목 추가함수(텍스트노드)
            function Adddiv()
            {
                var target = document.getElementById('List');
                var div =  document.createElement('div');
                var text = document.createTextNode(document.getElementById('input_text').value)
                div.appendChild(text);
                div.className = 'div';
                div.id = 'div'+count;
                target.appendChild(div);
            }

            //항목 추가함수(체크박스 노드)
            function Addbox()
            {
                console.log(count);
                var target = document.getElementById('List');
                var input =  document.createElement('input');
                input.type = 'checkbox';
                input.className = 'input';
                input.id = 'input'+count;
                target.appendChild(input); 
                count++;
            }

            //줄 바꿔주는 함수
            function Addblank()
            {
                var target = document.getElementById('List');
                var div =  document.createElement('div');
                target.appendChild(div);
            }
        </script>
    </head>
    <body>
        <div id="content">
            <div id="title">To do List With MVC</div>
            <div id="input">
                <input type="text" id="input_text" onkeyDown="enter();">
                <button id="button">추가</button>
                <button id="remove">삭제</button>
            </div>
            <div id="List">

            </div>
        </div>
    </body>
</html>
